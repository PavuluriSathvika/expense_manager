<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login | Personal Expense Manager</title>

  <style>
    :root{
      --text:#e6f0ff;
      --muted:#a6b4d9;
      --accent:#3a7bff;
      --dark1:#0d111a;
      --dark2:#0b0f15;
      --glass:#ffffff14;
      --glow:#4da3ff;
    }

    *{box-sizing:border-box;font-family:'Poppins',sans-serif;}

    body{
      margin:0;
      height:100vh;
      overflow:hidden;
      display:flex;
      justify-content:center;
      align-items:center;

      background:linear-gradient(135deg,var(--dark1),var(--dark2));
      color:var(--text);
    }

    /* Aurora Glow */
    .aurora{
      position:absolute;
      inset:-40% -40%;
      background:conic-gradient(
        from 180deg,
        rgba(21,192,255,0.15),
        rgba(58,123,255,0.12),
        rgba(123,97,255,0.15),
        rgba(21,192,255,0.15)
      );
      filter:blur(140px);
      animation:spin 55s linear infinite;
      z-index:-3;
    }
    @keyframes spin{
      0%{transform:rotate(0deg);}
      100%{transform:rotate(360deg);}
    }

    /* Floating Blobs */
    .blob{
      position:absolute;
      border-radius:50%;
      filter:blur(70px);
      opacity:.4;
      z-index:-2;
      animation:float 18s infinite ease-in-out alternate;
    }
    .b1{width:320px;height:320px;background:#1e3cff;top:15%;left:10%;}
    .b2{width:380px;height:380px;background:#00b2ff;bottom:12%;right:10%;animation-duration:22s;}
    .b3{width:260px;height:260px;background:#7a4dff;top:55%;left:60%;animation-duration:26s;}

    @keyframes float{
      0%{transform:translate(0,0);}
      100%{transform:translate(40px,-40px);}
    }

    /* Particles */
    .particle{
      position:absolute;width:6px;height:6px;border-radius:50%;
      background:#d9eeff;filter:blur(2px);opacity:.6;
      animation:particle 6s infinite ease-in-out alternate;
      z-index:-1;
    }
    @keyframes particle{
      0%{transform:translateY(0);opacity:.3;}
      100%{transform:translateY(-20px);opacity:1;}
    }

    /* Login Card */
    .login-container{
      width:360px;
      padding:35px 40px;
      border-radius:18px;
      background:rgba(255,255,255,0.08);
      backdrop-filter:blur(22px);
      border:1px solid rgba(255,255,255,0.12);
      box-shadow:0 15px 45px rgba(0,0,0,0.5);

      animation:fadeUp 1.2s ease-out forwards,
                 floatCard 6s infinite ease-in-out alternate;
      opacity:0;
      transform:translateY(40px);
      text-align:center;
      position:relative;
    }

    @keyframes fadeUp{
      to{opacity:1;transform:translateY(0);}
    }
    @keyframes floatCard{
      0%{transform:translateY(0);}
      100%{transform:translateY(-12px);}
    }

    /* Title */
    h2{
      margin:0 0 20px;
      font-size:28px;
      font-weight:800;

      background:linear-gradient(180deg,#eff6ff,#cde0ff);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      text-shadow:0 0 20px rgba(77,163,255,0.35);

      animation:titleIn 1.4s ease-out;
    }
    @keyframes titleIn{
      0%{opacity:0;transform:translateY(-30px) scale(.95);}
      60%{opacity:1;transform:translateY(0) scale(1.03);}
      100%{opacity:1;transform:translateY(0) scale(1);}
    }

    /* Inputs */
    input{
      width:100%;
      padding:12px;
      margin:10px 0;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.25);
      background:rgba(255,255,255,0.1);
      color:var(--text);
      font-size:15px;
      outline:none;

      animation:slideIn 1s ease forwards;
      opacity:0;
      transform:translateX(-25px);
    }

    input:nth-child(1){animation-delay:.3s;}
    input:nth-child(2){animation-delay:.45s;}

    @keyframes slideIn{
      to{opacity:1;transform:translateX(0);}
    }

    input:focus{
      border-color:#4da3ff;
      box-shadow:0 0 15px rgba(77,163,255,0.45);
    }

    /* Forgot Password */
    .forgot-password a{
      color:var(--accent);
      text-decoration:none;
      font-size:14px;
    }
    .forgot-password a:hover{ text-decoration:underline; }

    /* Button */
    button{
      width:100%;
      padding:12px;
      border:none;
      border-radius:12px;
      background:linear-gradient(135deg,#3e7eff,#15c8ff);
      color:white;
      font-size:17px;
      font-weight:600;
      margin-top:10px;
      cursor:pointer;

      animation:buttonPop 1.1s ease forwards;
      opacity:0;
      transform:scale(.9);
      animation-delay:.55s;

      transition:.2s ease;
    }

    @keyframes buttonPop{
      to{opacity:1;transform:scale(1);}
    }

    button:hover{
      transform:scale(1.07);
      box-shadow:0 12px 25px rgba(58,123,255,0.4);
    }

    /* Footer */
    .footer-text{
      margin-top:15px;
      font-size:14px;
      color:var(--muted);
    }
    .footer-text a{
      color:#80aaff;
      text-decoration:none;
      font-weight:600;
    }
    .footer-text a:hover{text-decoration:underline;}

  </style>
</head>
<body>

  <!-- Background Layers -->
  <div class="aurora"></div>
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>

  <!-- Particles (JS inserts them) -->
  <script>
    for (let i = 0; i < 35; i++){
      const p = document.createElement("div");
      p.classList.add("particle");
      p.style.left = Math.random()*100 + "vw";
      p.style.top = Math.random()*100 + "vh";
      p.style.animationDelay = Math.random()*5 + "s";
      document.body.appendChild(p);
    }
  </script>

  <div class="login-container">
    <h2>Login</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% for category, message in messages %}
        <div class="flash">{{ message }}</div>
      {% endfor %}
    {% endwith %}

    <form method="POST">
      <input type="text" name="username" placeholder="Usermail" required>
      <input type="password" name="password" placeholder="Password" required>

      <div class="forgot-password">
        <a href="{{url_for('fgtpwd')}}">Forgot Password?</a>
      </div>

      <button type="submit">Login</button>
    </form>

    <div class="footer-text">
      Donâ€™t have an account?
      <a href="{{ url_for('register') }}">Register</a>
    </div>
  </div>
</body>
</html>
